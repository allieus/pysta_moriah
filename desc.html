<!DOCTYPE html><html lang="ko"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><script type="text/javascript" src="http://wc1.moriah.pe.kr/sh/scripts/shCore.js"></script><script type="text/javascript" src="http://wc1.moriah.pe.kr/sh/scripts/shBrushPython.js"></script><script type="text/javascript" src="http://wc1.moriah.pe.kr/sh/scripts/shBrushJScript.js"></script><link href="http://wc1.moriah.pe.kr/sh/styles/shCore.css" rel="stylesheet" type="text/css" /><link href="http://wc1.moriah.pe.kr/sh/styles/shThemeDjango.css" rel="stylesheet" type="text/css" /><div height="10" style="line-height: 1;padding:2px;spacing:2px;margin:0 0 0 10px;"><br><font style="font-size:14pt"><b> 실습 8: 프로필 사진</b></font></div><div height="10" style="line-height: 1;padding:2px;spacing:2px;margin:0 0 0 20px;"><br><font style="font-size:12pt">&nbsp;</font></div><div height="10" style="line-height: 1;padding:2px;spacing:2px;margin:0 0 0 20px;"><br><font style="font-size:12pt"><b>step 1. media 설정</b></font></div><div height="10" style="line-height: 1;padding:2px;spacing:2px;margin:0 0 0 30px;"><br><font style="font-size:11pt">- media 폴더를 설정하고 프로젝트에, media, media/profile 폴더를 생성</font></div><div height="10" style="line-height: 1;padding:2px;spacing:2px;margin:0 0 0 30px;"><br><font style="font-size:11pt">&nbsp;</font></div><div height="10" style="line-height: 1;padding:2px;spacing:2px;margin:0 0 0 20px;"><br><font style="font-size:12pt"><b>step 2. Profile model 에 파일 이름 저장할 field 만들기</b></font></div><div height="10" style="line-height: 1;padding:2px;spacing:2px;margin:0 0 0 30px;"><br><font style="font-size:11pt">- 필드 이름은 profile_image 로, 사이즈는 128로 하겠습니다.</font></div><div height="10" style="line-height: 1;padding:2px;spacing:2px;margin:0 0 0 30px;"><br><font style="font-size:11pt"><a href="#" onclick="openFile('/member/models.py');return false;"><img src="/shortcut.png" width="15"/> <font color="#0000ff">/member/models.py</font></a></font></div><div height="10" style="line-height: 1;padding:2px;spacing:2px;margin:0 0 0 30px;"><br><font style="font-size:11pt">&nbsp;</font></div><div height="10" style="line-height: 1;padding:2px;spacing:2px;margin:0 0 0 20px;"><br><font style="font-size:12pt"><b>step 3. 업로드 폼 수정하기</b></font></div><div height="10" style="line-height: 1;padding:2px;spacing:2px;margin:0 0 0 30px;"><br><font style="font-size:11pt">- member/modify.html 열고 사진 업로드 필드 만들기, 필드 이름은 "profile_photo" 로 합니다</font></div><div height="10" style="line-height: 1;padding:2px;spacing:2px;margin:0 0 0 30px;"><br><font style="font-size:11pt"><a href="#" onclick="openFile('/templates/member/modify.html');return false;"><img src="/shortcut.png" width="15"/> <font color="#0000ff">/templates/member/modify.html</font></a></font></div><div height="10" style="line-height: 1;padding:2px;spacing:2px;margin:0 0 0 30px;"><br><font style="font-size:11pt">&nbsp;</font></div><div height="10" style="line-height: 1;padding:2px;spacing:2px;margin:0 0 0 20px;"><br><font style="font-size:12pt"><b>step 4. 업로드 된 사진 저장하기</b></font></div><div height="10" style="line-height: 1;padding:2px;spacing:2px;margin:0 0 0 30px;"><br><font style="font-size:11pt">- member/views.py 의 modify view 에서,</font></div><div height="10" style="line-height: 1;padding:2px;spacing:2px;margin:0 0 0 30px;"><br><font style="font-size:11pt">- profile_photo 가 request.FILES 에 존재하는 경우에만,</font></div><div height="10" style="line-height: 1;padding:2px;spacing:2px;margin:0 0 0 30px;"><br><font style="font-size:11pt">- 저장은 /media/profile 안에 저장합니다.</font></div><div height="10" style="line-height: 1;padding:2px;spacing:2px;margin:0 0 0 30px;"><br><font style="font-size:11pt"><a href="#" onclick="openFile('/member/views.py');return false;"><img src="/shortcut.png" width="15"/> <font color="#0000ff">/member/views.py</font></a></font></div><div height="10" style="line-height: 1;padding:2px;spacing:2px;margin:0 0 0 30px;"><br><font style="font-size:11pt">&nbsp;</font></div><div height="10" style="line-height: 1;padding:2px;spacing:2px;margin:0 0 0 20px;"><br><font style="font-size:12pt"><b>step 5. 섬네일 만들기</b></font></div><div height="10" style="line-height: 1;padding:2px;spacing:2px;margin:0 0 0 30px;"><br><font style="font-size:11pt">- 최대 사이즈는 100x100 으로</font></div><div height="10" style="line-height: 1;padding:2px;spacing:2px;margin:0 0 0 30px;"><br><font style="font-size:11pt">- 저장은 /media/profile/thumb 에 합니다.</font></div><div height="10" style="line-height: 1;padding:2px;spacing:2px;margin:0 0 0 30px;"><br><font style="font-size:11pt">- 이미지 파일 이름(path 를 제외하고) 를 유저 profile 의 profile_image 에 반영하고 저장합니다.</font></div><div height="10" style="line-height: 1;padding:2px;spacing:2px;margin:0 0 0 30px;"><br><font style="font-size:11pt">&nbsp;</font></div><div height="10" style="line-height: 1;padding:2px;spacing:2px;margin:0 0 0 20px;"><br><font style="font-size:12pt"><b>step 6. 확인하기</b></font></div><div height="10" style="line-height: 1;padding:2px;spacing:2px;margin:0 0 0 30px;"><br><font style="font-size:11pt">- 데이터베이스의 member_profile 테이블에 profile_image 가 잘 들어갔는지,</font></div><div height="10" style="line-height: 1;padding:2px;spacing:2px;margin:0 0 0 30px;"><br><font style="font-size:11pt">- /media/profile 폴더에 원본 이미지가 잘 올라갔는지</font></div><div height="10" style="line-height: 1;padding:2px;spacing:2px;margin:0 0 0 30px;"><br><font style="font-size:11pt">- /media/profile/thumbnail 폴더에 썸네일 이미지가 잘 올라갔는지</font></div><div height="10" style="line-height: 1;padding:2px;spacing:2px;margin:0 0 0 30px;"><br><font style="font-size:11pt">&nbsp;</font></div><style type='text/css'>
.syntaxhighlighter table tbody
{
 font-size: 12pt !important;
}
</style>

